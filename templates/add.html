{% extends "layout.html" %}

{% block content %}

<script type="text/javascript" src="{{ url_for('static', filename = 'add.js') }}"></script>
    
    <script>
        
        // console.log(data)
    </script>


    <!-- Success Message (Hidden by Default) -->
    <div id="success-message" class="alert alert-success d-none" style="display: none;">
        <strong>New item successfully created.</strong> 
        <a id="view-link" href="#" class="btn btn-success btn-sm ms-2">See it here</a>
    </div>

    <!-- Song Submission Form -->
<form id="add-song-form" class="mt-3">
    <div class="mb-3">
        <label class="form-label">Title</label>
        <input type="text" name="title" id="title" class="form-control">
        <small id="error-title" class="text-danger d-none"></small>
    </div>

    <div class="mb-3">
        <label class="form-label">Artist</label>
        <input type="text" name="artist" id="artist" class="form-control">
        <small id="error-artist" class="text-danger d-none"></small>
    </div>

    <div class="mb-3">
        <label class="form-label">Writers (comma-separated)</label>
        <input type="text" name="writers" id="writers" class="form-control">
        <small id="error-writers" class="text-danger d-none"></small>
    </div>

    <div class="mb-3">
        <label class="form-label">Album</label>
        <input type="text" name="album" id="album" class="form-control">
        <small id="error-album" class="text-danger d-none"></small>
    </div>

    <div class="mb-3">
        <label class="form-label">Year</label>
        <input type="text" name="year" id="year" class="form-control">
        <small id="error-year" class="text-danger d-none"></small>
    </div>

    <div class="mb-3">
        <label class="form-label">Summary</label>
        <textarea name="summary" id="summary" class="form-control"></textarea>
    </div>

    <div class="mb-3">
        <label class="form-label">Genre (comma-separated)</label>
        <input type="text" name="genre" id="genre" class="form-control">
    </div>

    <div class="mb-3">
        <label class="form-label">Duration (x:xx format)</label>
        <input type="text" name="duration" id="duration" class="form-control">
        <small id="error-duration" class="text-danger d-none"></small>
    </div>

    <div class="mb-3">
        <label class="form-label">Song Cover URL</label>
        <input type="text" name="song_cover" id="song_cover" class="form-control">
        <small id="error-song_cover" class="text-danger d-none"></small>
    </div>

    <div class="mb-3">
        <label class="form-label">Lyrics Link</label>
        <input type="text" name="lyrics_link" id="lyrics_link" class="form-control">
        <small id="error-lyrics_link" class="text-danger d-none"></small>
    </div>

    <div class="mb-3">
        <label class="form-label">Music Video Link</label>
        <input type="text" name="music_video" id="music_video" class="form-control" >
        <small id="error-music_video" class="text-danger d-none"></small>
    </div>

    <label class="form-label">Similar Songs</label>
    <select id="similar_songs" class="form-control" multiple>
        {% for song_id, song in all_data.items() %}
            <option value="{{ song_id }}"
                {% if song_id in song.similar_song_ids %}selected{% endif %}>
                {{ song.title }} by {{ song.artist }}
            </option>
        {% endfor %}
    </select>
    <small class="text-muted">Hold Ctrl (Windows) or Cmd (Mac) to select multiple songs.</small>
    
    <br>

    <button type="submit" class="btn btn-primary">Add Song</button>
</form>

{% endblock %}

